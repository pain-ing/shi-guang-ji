# 拾光集 (Shi Guang Ji) - 项目总结文档

**项目周期:** [项目开始日期] - [项目结束日期]
**版本:** 1.0
**完成日期:** 2025年 [月份] [日期]

---

### 1. 项目目标与成果

#### 1.1 初始目标
"拾光集" v1.0 的核心目标是为用户提供一个稳定、流畅的跨平台个人记录工具。我们旨在完成以下核心功能：用户系统、每日打卡、富文本日记以及媒体库管理。

#### 1.2 完成情况
我们成功地完成了 v1.0 计划中的所有核心功能。
* **已上线功能:**
    * 完整的用户认证流程。
    * 支持心情和短注的每日打卡系统，并配有打卡日历。
    * 基于 Markdown 的富文本日记编辑器，支持图片和视频插入。
    * 按时间线管理的用户个人媒体库。
    * 实现了桌面端和移动端响应式布局，保证了多端体验的一致性。
* **数据指标 (示例):**
    * **用户留存率:** [上线后统计，例如：次日留存率达到 X%]
    * **核心功能使用率:** [上线后统计，例如：每日打卡功能的使用率占日活用户的 Y%]
    * **性能:** [例如：应用平均加载时间 Z 秒]

---

### 2. 项目回顾

#### 2.1 技术实现亮点
* **高效的开发体验:** 采用 Next.js + Supabase + Vercel 的技术栈，极大地提升了开发和部署效率。前端开发者可以借助 Supabase 的 SDK 快速实现后端功能，而无需深入后端开发。
* **强大的后端支持:** Supabase 提供了稳定可靠的数据库、认证和存储服务。其行级安全 (RLS) 策略为应用的数据隐私安全提供了坚实的保障。
* **流畅的部署流程:** Vercel 的 CI/CD 和预览部署功能，使得每次代码提交都能得到即时反馈，显著减少了集成问题和部署错误的风险。

#### 2.2 遇到的挑战与解决方案
* **挑战一: 富文本编辑器的选型与优化**
    * **问题:** 在移动端和桌面端提供一致且流畅的富文本编辑体验具有挑战性。
    * **解决方案:** 我们最终选择了 TipTap/Milkdown 这类基于 Prosemirror 的编辑器内核，它提供了高度的可扩展性。我们针对移动端优化了工具栏的交互，并实现了内容的 Markdown 双向绑定，保证了数据的纯净和可移植性。
* **挑战二: 大文件上传的稳定性**
    * **问题:** 用户上传视频等大文件时，可能会因网络问题导致上传中断。
    * **解决方案:** 我们利用了 Supabase Storage 提供的分块上传 (chunked upload) 功能。将大文件切分成小块进行上传，并实现了断点续传逻辑，显著提升了上传的成功率和用户体验。

---

### 3. 经验与教训

* **经验:**
    * **尽早启用 RLS:** 在项目初期就为所有数据表配置严格的行级安全策略，是保障多用户数据安全的关键。
    * **组件化开发:** 彻底贯彻组件化开发的思想，提高了代码的复用性和可维护性。
* **教训:**
    * **忽视本地化 (i18n):** 在 v1.0 中未考虑多语言支持，导致后续添加的成本较高。在未来的项目中，应在架构设计之初就引入国际化方案。
    * **类型定义的重要性:** 项目初期部分代码的 TypeScript 类型定义不够严谨，导致后期重构时出现了一些意料之外的 bug。应始终坚持编写强类型的代码。

---

### 4. 未来展望 (v2.0 规划)

基于 v1.0 的成功和用户反馈，我们计划在下一版本中探索以下方向：
* **社交分享功能:** 允许用户将单篇日记或照片以精美的卡片形式分享到社交媒体。
* **高级搜索功能:** 实现全文检索，用户可以根据关键词、日期范围、标签、地点等多种维度快速找到自己的记录。
* **原生App开发:** 探索使用 Tauri 或 React Native 开发性能更佳的原生桌面端和移动端应用，以提供更优质的用户体验。
* **智能提醒:** 根据用户的记录习惯，智能提醒用户进行记录或回顾。

---